<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:p="primefaces"          
      xmlns:c="jakarta.tags.core"
      xmlns:composite="jakarta.faces.composite"
      xmlns:f="jakarta.faces.core">
    <composite:interface >
        <!--
          Controller
        -->
        <composite:attribute name="controller" type="java.lang.Object"/>            

        <!-- Fields -->
        <composite:attribute name="emailField" type="java.lang.Object"/> 
        
        
        <composite:attribute name="validatorMessageLabel" default="Email no válido"/> 
        <!--Action -->

        <composite:attribute name="resetAction"  default="reset" />
        <!--
        CommandButton
        -->
        <composite:attribute name="resetButtonLabel" default="Resetear"/>
        <!--
      Label
        -->
        <composite:attribute name="title" default="Cargo Dev UI"/>
        <composite:attribute name="subtitle" default="Reset Password"/>
        <composite:attribute name="subtitle2" default="Ingrese su dirección de correo electrónico y le enviaremos un correo electrónico con instrucciones para restablecer su contraseña."/>
        <composite:attribute name="emailLabel" default="Email"/>
        <!--
        Imagenes
        -->

        <composite:attribute name="leftImageName" default="images/auth/02.png"/>
        <composite:attribute name="leftImageLibrary" default="jmoordbcoreui"/>
        <composite:attribute name="logoNormalImageLibrary" default="jmoordbcoreui"/>
        <composite:attribute name="logoNormalImageName" default="images/avatars/02.png"/>
        <composite:attribute name="logoMiniImageLibrary" default="jmoordbcoreui"/>
        <composite:attribute name="logoMiniImageName" default="images/avatars/02.png"/>
        <composite:attribute name="logoMiniImageSize" default="width:20px;"/>
    </composite:interface>
    <composite:implementation>




        <p:growl id="growl" showDetail="true" />


        <div class="wrapper">
            <section class="login-content">
                <div class="row m-0 align-items-center bg-white vh-100">
                    <div class="col-md-6 d-md-block d-none bg-primary p-0 mt-n1 vh-100 overflow-hidden">
                        <h:graphicImage library="#{cc.attrs.leftImageLibrary}" name="#{cc.attrs.leftImageName}" class="img-fluid gradient-main animated-scaleX" />
                    </div>
                    <div class="col-md-6 p-0">               
                        <div class="card card-transparent auth-card shadow-none d-flex justify-content-center mb-0">
                            <div class="card-body">
                                <a href="index.xhtml" class="navbar-brand d-flex align-items-center mb-3">
                                    <!--Logo start-->
                                    <div class="logo-main">
                                        <div class="logo-normal">
                                            <h:graphicImage library="#{cc.attrs.logoNormalImageLibrary}" name="#{cc.attrs.logoNormalImageName}" />

                                        </div>
                                    </div>
                                    <div class="logo-mini">
                                        <h:graphicImage library="#{cc.attrs.logoMiniImageLibrary}" name="#{cc.attrs.logoMiniImageName}" style="#{cc.attrs.logoMiniImageSize}" />

                                    </div>
                                    <!--logo End-->




                                    <h4 class="logo-title ms-3">#{cc.attrs.title}</h4>
                                </a>
                                <h2 class="mb-2">#{cc.attrs.subtitle}</h2>
                                <p>#{cc.attrs.subtitle2}</p>

                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="floating-label form-group">
                                            <label for="email" class="form-label">#{cc.attrs.emailLabel}</label>
                                            <p:inputText  type="email" placeholder="#{cc.attrs.emailLabel}" class="form-control"
                                                          value="#{cc.attrs.controller[cc.attrs.emailField]}"
                                                          id="email"
                                                          validatorMessage="#{cc.attrs.validatorMessageLabel}">
                                                <f:validateRegex  pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" 
                                                                  />
                                            </p:inputText>
                                        </div>
                                    </div>
                                </div>

                                <p:commandButton value ="#{cc.attrs.resetButtonLabel}" 
                                                 action="#{cc.attrs.controller[cc.attrs.resetAction]}"
                                                 icon="pi pi-send"
                                                 update="growl"
                                                 class="btn btn-primary"/>

                            </div>
                        </div>               
                        <div class="sign-bg sign-bg-right">
                            <svg width="280" height="230" viewBox="0 0 431 398" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g opacity="0.05">
                                    <rect x="-157.085" y="193.773" width="543" height="77.5714" rx="38.7857" transform="rotate(-45 -157.085 193.773)" fill="#3B8AFF"/>
                                    <rect x="7.46875" y="358.327" width="543" height="77.5714" rx="38.7857" transform="rotate(-45 7.46875 358.327)" fill="#3B8AFF"/>
                                    <rect x="61.9355" y="138.545" width="310.286" height="77.5714" rx="38.7857" transform="rotate(45 61.9355 138.545)" fill="#3B8AFF"/>
                                    <rect x="62.3154" y="-190.173" width="543" height="77.5714" rx="38.7857" transform="rotate(45 62.3154 -190.173)" fill="#3B8AFF"/>
                                </g>
                            </svg>
                        </div>
                    </div>
                </div>
            </section>
        </div>

    </composite:implementation>
</html>